!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.GallerySwiper=t(require("react")):e.GallerySwiper=t(e.React)}(window,function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(t,n){t.exports=e},function(e,t,n){e.exports=n(15)()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.applyStyles=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t)for(var o in e)e.hasOwnProperty(o)&&(t.style[o]=n?null:e[o])},t.addClassFromArray=function(e,t){t.forEach(function(t){e.classList.add(t)})}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,o=t.canUseDom=!("undefined"==typeof window||!window.document||!window.document.createElement);t.addEventListener=o&&"addEventListener"in window,t.removeEventListener=o&&"removeEventListener"in window,t.passiveOptions=(n=null,function(){if(null!==n)return n;var e,t,o,r=!1;try{window.addEventListener("test",null,(e={},t="passive",o={get:function(){r=!0}},Object.defineProperty(e,t,o)))}catch(e){}return n=r,r}())},function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty;function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var i=0;i<n.length;i++)if(!o.call(t,n[i])||!r(e[n[i]],t[n[i]]))return!1;return!0}},function(e,t,n){"use strict";var o=n(4);e.exports=function(e,t,n){return!o(e.props,t)||!o(e.state,n)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n(1)),a=n(0),i=(s(a),s(n(5))),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c={capture:!1,passive:!1,debounce:!1,throttle:!1,debounceDelay:250,throttleDelay:250},d=l.addEventListener,f=l.removeEventListener,p=l.passiveOptions,h=l.canUseDom,m=function(e){return Object.assign({},c,e)},v=function(e,t,n){var o=[e,t];return o.push(p?n:n.capture),o},b=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(d){var r=o.debounce,a=void 0!==r&&r,i=o.throttle,l=void 0!==i&&i,s=o.debounceDelay,u=o.throttleDelay,c=n;a?c=function(e,t){var n=void 0;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(o,r)},t)}}(n,s):l&&(c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=void 0,r=void 0,a=void 0,i=null,l=0,s=n.leading,u=void 0===s||s,c=n.trailing,d=void 0!==c&&c,f=function(){l=u?Date.now():0,i=null,a=e.apply(o,r),i||(o=r=null)};return function(){o=this,r=arguments;var t=Date.now();l||u||(l=t);var n=wait-(t-l);return n<=0||n>wait?(i&&(clearTimeout(i),i=null),l=t,a=e.apply(o,r),i||(o=r=null)):!i&&d&&(i=setTimeout(f,n)),a}}(n,u)),e.addEventListener.apply(e,v(t,c,o))}},g=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};f&&e.removeEventListener.apply(e,v(t,n,o))},y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={},r.componentDidMount=function(){r.addEventListener()},r.shouldComponentUpdate=function(e){return(0,i.default)({props:r.props,state:r.state},e,r.state)},r.componentWillUpdate=function(){h&&r.addEventListener()},r.componentDidUpdate=function(){h&&r.addEventListener()},r.componentWillUnmount=function(){r.removeEventListener()},r.addEventListener=function(){r.setListeners(b)},r.removeEventListener=function(){r.setListeners(g)},r.setListeners=function(e){var t=r.props,n=t.target,a=t.events;if(n){var i=void 0;"string"==typeof n&&(i=window[n]),Object.keys(a).forEach(function(t){var n=a[t],r=void 0===n?"undefined":o(n),l="object"===r;if(l||"function"===r){var s=void 0,u=void 0;if(l){var c=n.handler,d=void 0===c?null:c,f=n.opts,p=void 0===f?{}:f;d&&(s=d),p&&(u=m(p))}else s=n;s&&e(i,t,s,u)}})}},r.render=function(){return r.props.children||null},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),t}();y.propTypes={children:r.default.element,target:r.default.oneOfType([r.default.object,r.default.string]).isRequired,events:r.default.oneOfType([r.default.object,r.default.func]).isRequired},t.default=y},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.createNewImage=function(e,t){return new Promise(function(n,o){var r=new Image,a=void 0,i=function(){n(r),a&&a()},l=function(e){o({error:e,image:r}),a&&a()};a=function(){r.removeEventListener("load",i),r.removeEventListener("error",l),r.removeEventListener("abort",l),i=null,l=null,a=null,n=null,o=null},r.addEventListener("load",i,{once:!0}),r.addEventListener("error",l,{once:!0}),r.addEventListener("abort",l,{once:!0}),r.src=e,r.classList.add(t)})}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e,t){var n=void 0,o=void 0,r=void 0,a=null,i=0,l=function(){i=(new Date).getTime(),a=null,r=e.apply(n,o),a||(n=o=null)};return function(){var s=(new Date).getTime(),u=t-(s-i);return n=this,o=arguments,u<=0||u>t?(a&&clearTimeout(a),i=s,r=e.apply(n,o),a||(n=o=null)):a||(a=setTimeout(l,u)),r}}.apply(void 0,arguments);return function(t){return t?(t.persist(),e(t)):e()}}},function(e,t,n){var o;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o))e.push(r.apply(null,o));else if("object"===a)for(var i in o)n.call(o,i)&&o[i]&&e.push(i)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=r:void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),o.hasSupport=e}}};o.update(),t.default=o},function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var r=n(0),a=n(1),i=n(10).default;function l(e,t){var n=function(e){return"changedTouches"in e?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}(e),o=n.x,r=n.y,a=t.x-o,i=t.y-r,l=Math.abs(a),s=Math.abs(i),u=Date.now()-t.start;return{deltaX:a,deltaY:i,absX:l,absY:s,velocity:Math.sqrt(l*l+s*s)/u}}var s=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.eventStart=r.eventStart.bind(r),r.eventMove=r.eventMove.bind(r),r.eventEnd=r.eventEnd.bind(r),r.mouseDown=r.mouseDown.bind(r),r.mouseMove=r.mouseMove.bind(r),r.mouseUp=r.mouseUp.bind(r),r.cleanupMouseListeners=r.cleanupMouseListeners.bind(r),r.setupMouseListeners=r.setupMouseListeners.bind(r),r.elementRef=r.elementRef.bind(r),r.setupTouchmoveEvent=r.setupTouchmoveEvent.bind(r),r.cleanupTouchmoveEvent=r.cleanupTouchmoveEvent.bind(r),r.hasPassiveSupport=i.hasSupport,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.swipeable={x:null,y:null,swiping:!1,start:0}},t.prototype.componentDidMount=function(){this.props.preventDefaultTouchmoveEvent&&this.setupTouchmoveEvent()},t.prototype.componentDidUpdate=function(e){e.disabled!==this.props.disabled&&(this.cleanupMouseListeners(),this.swipeable={x:null,y:null,swiping:!1,start:0}),e.preventDefaultTouchmoveEvent&&!this.props.preventDefaultTouchmoveEvent?this.cleanupTouchmoveEvent():!e.preventDefaultTouchmoveEvent&&this.props.preventDefaultTouchmoveEvent&&this.setupTouchmoveEvent()},t.prototype.componentWillUnmount=function(){this.cleanupMouseListeners()},t.prototype.setupTouchmoveEvent=function(){this.element&&this.hasPassiveSupport&&this.element.addEventListener("touchmove",this.eventMove,{passive:!1})},t.prototype.setupMouseListeners=function(){document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mouseup",this.mouseUp)},t.prototype.cleanupTouchmoveEvent=function(){this.element&&this.hasPassiveSupport&&this.element.removeEventListener("touchmove",this.eventMove,{passive:!1})},t.prototype.cleanupMouseListeners=function(){document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("mouseup",this.mouseUp)},t.prototype.mouseDown=function(e){this.props.trackMouse&&"mousedown"===e.type&&("function"==typeof this.props.onMouseDown&&this.props.onMouseDown(e),this.setupMouseListeners(),this.eventStart(e))},t.prototype.mouseMove=function(e){this.eventMove(e)},t.prototype.mouseUp=function(e){this.cleanupMouseListeners(),this.eventEnd(e)},t.prototype.eventStart=function(e){if(!(e.touches&&e.touches.length>1)){var t=function(e){return"touches"in e?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY}}(e),n=t.x,o=t.y;this.props.stopPropagation&&e.stopPropagation(),this.swipeable={start:Date.now(),x:n,y:o,swiping:!1}}},t.prototype.eventMove=function(e){var t=this.props,n=t.stopPropagation,o=t.delta,r=t.onSwiping,a=t.onSwipingLeft,i=t.onSwipedLeft,s=t.onSwipingRight,u=t.onSwipedRight,c=t.onSwipingUp,d=t.onSwipedUp,f=t.onSwipingDown,p=t.onSwipedDown,h=t.preventDefaultTouchmoveEvent;if(this.swipeable.x&&this.swipeable.y&&!(e.touches&&e.touches.length>1)){var m=l(e,this.swipeable);if(!(m.absX<o&&m.absY<o)||this.swipeable.swiping){n&&e.stopPropagation(),r&&r(e,m.deltaX,m.deltaY,m.absX,m.absY,m.velocity);var v=!1;m.absX>m.absY?m.deltaX>0?(a||i)&&(a&&a(e,m.absX),v=!0):(s||u)&&(s&&s(e,m.absX),v=!0):m.deltaY>0?(c||d)&&(c&&c(e,m.absY),v=!0):(f||p)&&(f&&f(e,m.absY),v=!0),this.swipeable.swiping=!0,v&&h&&e.preventDefault()}}},t.prototype.eventEnd=function(e){var t=this.props,n=t.stopPropagation,o=t.flickThreshold,r=t.onSwiped,a=t.onSwipedLeft,i=t.onSwipedRight,s=t.onSwipedUp,u=t.onSwipedDown,c=t.onTap;if(this.swipeable.swiping){var d=l(e,this.swipeable);n&&e.stopPropagation();var f=d.velocity>o;r&&r(e,d.deltaX,d.deltaY,f,d.velocity),d.absX>d.absY?d.deltaX>0?a&&a(e,d.deltaX,f):i&&i(e,d.deltaX,f):d.deltaY>0?s&&s(e,d.deltaY,f):u&&u(e,d.deltaY,f)}else c&&c(e);this.swipeable={x:null,y:null,swiping:!1,start:0}},t.prototype.elementRef=function(e){this.element=e,this.props.innerRef&&this.props.innerRef(e)},t.prototype.render=function(){var e=o({},this.props);return this.props.disabled||(e.onTouchStart=this.eventStart,this.props.preventDefaultTouchmoveEvent&&this.hasPassiveSupport||(e.onTouchMove=this.eventMove),e.onTouchEnd=this.eventEnd,e.onMouseDown=this.mouseDown),e.ref=this.elementRef,delete e.onSwiped,delete e.onSwiping,delete e.onSwipingUp,delete e.onSwipingRight,delete e.onSwipingDown,delete e.onSwipingLeft,delete e.onSwipedUp,delete e.onSwipedRight,delete e.onSwipedDown,delete e.onSwipedLeft,delete e.onTap,delete e.flickThreshold,delete e.delta,delete e.preventDefaultTouchmoveEvent,delete e.stopPropagation,delete e.nodeName,delete e.children,delete e.trackMouse,delete e.disabled,delete e.innerRef,r.createElement(this.props.nodeName,e,this.props.children)},t}(r.Component);s.propTypes={onSwiped:a.func,onSwiping:a.func,onSwipingUp:a.func,onSwipingRight:a.func,onSwipingDown:a.func,onSwipingLeft:a.func,onSwipedUp:a.func,onSwipedRight:a.func,onSwipedDown:a.func,onSwipedLeft:a.func,onTap:a.func,flickThreshold:a.number,delta:a.number,preventDefaultTouchmoveEvent:a.bool,stopPropagation:a.bool,nodeName:a.string,trackMouse:a.bool,disabled:a.bool,innerRef:a.func,children:a.node},s.defaultProps={flickThreshold:.6,delta:10,preventDefaultTouchmoveEvent:!1,stopPropagation:!1,nodeName:"div",disabled:!1},e.exports=s},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var o=function(e){};e.exports=function(e,t,n,r,a,i,l,s){if(o(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,l,s],d=0;(u=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var o=n(14),r=n(13),a=n(12);e.exports=function(){function e(e,t,n,o,i,l){l!==a&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=h(n(1)),i=n(0),l=h(i),s=h(n(11)),u=h(n(9)),c=h(n(8)),d=n(7),f=h(n(6)),p=n(2);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}var b="zvui-gallery-swiper",g=37,y=39,w=500,_="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",T="loaded",S="gallery_image",E="notloaded",L="animate",x=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.state={currentIndex:0,slides:[],thumbsTranslateX:0,thumbsTranslateY:0,offsetPercentage:0,galleryWidth:0,galleryHeight:0,thumbnailWidth:0,thumbnailHeight:0,lazyLoad:{thumbnails:!1}},o.componentWillReceiveProps=function(e){var t=o.props,n=t.images,r=t.lazyLoad,a=e.images,i=e.lazyLoad;n===a&&n.length===a.length||(r||i)&&o.setState({lazyLoad:{thumbnails:!1}},function(){o._resetSwiper()})},o._propsHaveChanged=function(e){return!Object.keys(e).every(function(t){return o.props[t]===e[t]})},o._stateHasChanged=function(e){return!Object.keys(e).every(function(t){return o.state[t]===e[t]})},o.shouldComponentUpdate=function(e,t){return o._propsHaveChanged(e)||o._stateHasChanged(t)},o.componentDidUpdate=function(e,t){var n=e.showThumbnails,r=e.images,a=t.thumbnailWidth,i=t.thumbnailHeight,l=t.currentIndex,s=o.state,u=s.thumbnailWidth,c=s.thumbnailHeight,d=s.currentIndex,f=o.props,p=f.showThumbnails,h=f.onSlide,m=f.images,v=d>m.length-1?0:d;v!==d&&o.setState({currentIndex:v}),a===u&&i===c&&n===p&&r.length===m.length||o._setThumbsTranslate(-o._getThumbsTranslate((v>0?1:0)*v)),l!==v&&(h&&"function"==typeof h&&h(v),o._updateThumbnailTranslate(t))},o.componentWillMount=function(){var e=o.props,t=e.startIndex,n=e.images;o.setState({currentIndex:t>n.length?0:t,id:Math.floor(1e3*Math.random())}),o._slideLeft=(0,c.default)(o._slideLeft,w,!0),o._slideRight=(0,c.default)(o._slideRight,w,!0),o._updateIfLazyLoad()},o.componentDidMount=function(){o._handleResize()},o.goTo=function(e,t){t&&t.preventDefault();var n=o.props.images,r=o.state.currentIndex,a=n.length-1,i=e;e<0?i=a:e>a&&(i=0),o.setState({previousIndex:r,currentIndex:i,offsetPercentage:0,style:{transition:"transform .3s ease-out"}},function(){setTimeout(function(){o._loadMainImage()},100)})},o.whereAmI=function(){return o.state.currentIndex},o._updateIfLazyLoad=function(){o.props.lazyLoad&&(setTimeout(function(){o._lazyLoadThumbnails()},100),setTimeout(function(){o._loadMainImage()},100))},o._getAllThumbsInArray=function(){var e=o._gallerySwiperThumbnails;if(e){var t=e.querySelectorAll("img");return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}return[]},o._resetThumbImages=function(){var e=o._getAllThumbsInArray();e.length&&(e.forEach(function(e){e.src=_,e.classList.add(E),e.classList.remove(T)}),o._updateIfLazyLoad())},o._resetMainImages=function(){var e=Object.keys(o).reduce(function(e,t){return 0===t.indexOf("_gallerySlide")&&e.push(o[t]),e},[]);e.length&&e.forEach(function(e){e&&e.childNodes&&Array.from(e.childNodes).forEach(function(t){"img"===t.tagName.toLowerCase()&&t.classList.contains(T)&&e.removeChild(t)})})},o._resetSwiper=function(){o._resetThumbImages(),o._resetMainImages(),o._updateIfLazyLoad()},o._loadThumbnail=function(e,t,n){var r=e.getAttribute("data-src"),a=e.getAttribute("data-type");(0,d.createNewImage)(r).then(function(t){e&&(e.src=r,e.classList.remove(E),e.classList.add(T),e.classList.add(a)),t&&(t=null)}).catch(function(e){var t=e.error,n=e.image;console.error(t),console.error("Image Object:",n)}),t===n.length-1&&o.setState({lazyLoad:{thumbnails:!0}})},o._lazyLoadThumbnails=function(){var e=o.state.lazyLoad,t=(e=void 0===e?{}:e).thumbnails;if(void 0!==t&&t)return!1;o._getAllThumbsInArray().forEach(o._loadThumbnail)},o._setThumbsTranslate=function(e){"Y"===o.props.thumbnailPosition?o.setState({thumbsTranslateY:e}):o.setState({thumbsTranslateX:e})},o._getThumbsTranslate=function(e){var t=o.props,n=t.disableThumbnailScroll,r=t.thumbnailPosition;if(n)return 0;var a=o.state,i=a.thumbnailWidth,l=a.thumbnailHeight;if(o._thumbnails){var s=o._thumbnails.children.length;if("Y"===r)return o._thumbnails.scrollHeight<=l?0:e*((o._thumbnails.scrollHeight-l)/(s-1));else return o._thumbnails.scrollWidth<=i?0:e*((o._thumbnails.scrollWidth-i)/(s-1))}},o._updateThumbnailTranslate=function(e){var t=o.state,n=t.currentIndex,r=t.thumbsTranslateX,a=t.thumbsTranslateY,i=e.currentIndex,l=o.props.thumbnailPosition;if(0===n)o._setThumbsTranslate(0);else{var s=Math.abs(i-n);if("Y"===l){var u=o._getThumbsTranslate(s);u>0&&(i<n?o._setThumbsTranslate(a-u):i>n&&o._setThumbsTranslate(a+u))}else{var c=o._getThumbsTranslate(s);c>0&&(i<n?o._setThumbsTranslate(r-c):i>n&&o._setThumbsTranslate(r+c))}}},o._canNavigate=function(){return o.props.images.length>=2},o._canSlideLeft=function(){return o.props.infinite||o.state.currentIndex>0},o._slideLeft=function(e){var t=o.props.onArrowClick;t&&"function"==typeof t&&t.call(o,"left",o.state.currentIndex-1,e),o.goTo(o.state.currentIndex-1,e)},o._canSlideRight=function(){return o.props.infinite||o.state.currentIndex<o.props.images.length-1},o._slideRight=function(e){var t=o.props.onArrowClick;t&&"function"==typeof t&&t.call(o,"right",o.state.currentIndex+1,e),o.goTo(o.state.currentIndex+1,e)},o._handleResize=function(){clearTimeout(o.handleResizeTimer),o.handleResizeTimer=setTimeout(function(){o._gallerySwiper&&o.setState({galleryWidth:o._gallerySwiper.offsetWidth,galleryHeight:o._gallerySwiper.offsetHeight}),o._gallerySwiperThumbnails&&o.setState({thumbnailWidth:o._gallerySwiper.offsetWidth,thumbnailHeight:o._gallerySwiper.offsetHeight})},100)},o._handleKeyDown=function(e){var t,n=parseInt(e.keyCode||e.which||0),r=(m(t={},g,function(){o._canSlideLeft()&&o._slideLeft()}),m(t,y,function(){o._canSlideRight()&&o._slideRight()}),t)[n.toString()];r&&"function"==typeof r&&r()},o._handleImageError=function(e){var t=o.props.defaultImage;t&&-1===e.target.src.indexOf(t)&&(e.target.src=t)},o._handleMouseOverThumbnail=function(e,t){var n=o.props,r=n.sliderOnThumbnailHover,a=n.thumbnailHoverSlideDelay,i=n.onThumbnailHover;r&&(o.setState({hovering:!0}),o._thumbnailTimer&&clearTimeout(o._thumbnailTimer),o._thumbnailTimer=setTimeout(function(){o.goTo(e)},a)),i&&"function"==typeof i&&i.call(o,e,t)},o._handleMouseLeaveThumbnail=function(){o._thumbnailTimer&&clearTimeout(o._thumbnailTimer),o.setState({hovering:!1})},o._handleThumbnailClick=function(e,t){var n=o.props.onThumbnailClick;n&&"function"==typeof n&&n.call(o,e,t),o.goTo(e,t)},o._handleBulletClick=function(e,t){var n=o.props.onBulletClick;n&&"function"==typeof n&&n.call(o,e,t),o.goTo(e,t)},o._handleSwiping=function(e,t,n){var r=e*(n/o.state.galleryWidth*100);o.setState({offsetPercentage:r})},o._shouldSlideOnSwipe=function(){var e=o.state,t=e.offsetPercentage,n=e.isFlick,r=Math.abs(t>30||n);return r&&o.setState({isFlick:!1}),r},o._handleOnSwiped=function(e,t,n,r){o.setState({isFlick:r})},o._handleOnSwipedTo=function(e){var t=o.state.currentIndex;setTimeout(function(){o._shouldSlideOnSwipe()&&(t+=e),e<0?o._canSlideLeft()||(t=o.state.currentIndex):o._canSlideRight()||(t=o.state.currentIndex),o.goTo(t)},0)},o._loadMainImage=function(){var e=o.props,t=e.lazyLoad,n=e.progressiveLazyLoad;if(!t)return!1;var r=o.whereAmI();o._loadImage(r).then(function(e){if(n&&o._progressiveLazyLoad(),!e)return null;setTimeout(function(){(0,p.addClassFromArray)(e,[T,S])},100)}).catch(o._loadImageErrorHandler)},o._renderItem=function(e,t){var n,r=o.props,a=r.onImageError,i=void 0===a?o._handleImageError:a,s=r.onImageLoad,c=r.lazyLoad,d=r.lazyLoadAnimation,f=void 0!==d&&d,p=r.aspectRatio,h=r.startIndex,v=h>r.images.length-1?0:h,g=e.sizes,y=e.original,w=e.originalAlt,x=void 0===w?"":w,I=e.type,O=void 0===I?"":I,M=e.thumbnail;f||(M=_);var P={className:(0,u.default)((m(n={},E,c&&!(!f&&t===v)),m(n,L,f),m(n,T,!c||!f&&t===v),m(n,S,t===v),m(n,O,!0),n)),src:c&&(f||t!==v)?M:y,ref:function(e){return o["_galleryImage-"+t]=e},"data-src":y,"data-type":O,alt:x,onLoad:s,onError:i,size:g};return l.default.createElement("div",{className:b+"-slide-image",ref:function(e){return o["_gallerySlide-"+t]=e}},l.default.createElement("div",{className:(0,u.default)("aspectRatio","z--"+p)}),l.default.createElement("img",P))},o._renderThumb=function(e){var t,n=e.thumbnail,r=void 0===n?"":n,a=e.thumbnailAlt,i=void 0===a?"":a,s=e.onThumbnailError,c=void 0===s?o._handleImageError:s,d=e.type,f=o.props,p=f.lazyLoad,h=void 0!==p&&p,v=f.lazyLoadAnimation,b=void 0!==v&&v,g={className:(0,u.default)((m(t={},E,h),m(t,L,b),m(t,T,!h),t)),src:h?_:r,"data-src":h?r:"","data-type":d,alt:i,onError:c};return l.default.createElement("img",g)},o._getThumbnailStyle=function(){var e=o.props.thumbnailPosition,t=o.state,n=t.thumbsTranslateX,r=t.thumbsTranslateY,a=void 0;return{WebkitTransform:a="Y"===e?"translate3d(0, "+r+"px, 0)":"translate3d("+n+"px, 0, 0)",MozTransform:a,msTransform:a,OTransform:a,transform:a}},o._getSlideStyle=function(e){var t=o.state,n=t.currentIndex,r=t.offsetPercentage,a=t.previousIndex,i=o.props,l=i.infinite,s=i.images,u=-100*n,c=s.length-1,d=u+100*e+r,f=1;e===n?f=3:e===a&&(f=2),l&&s.length>2&&(0===n&&e===c?d=-100+r:n===c&&0===e&&(d=100+r)),l&&2===s.length&&(d=o._getTranslateXForTwoSlide(e));var p="translate3d("+d+"%, 0, 0)";return{WebkitTransform:p,MozTransform:p,msTransform:p,OTransform:p,transform:p,zIndex:f}},o._getTranslateXForTwoSlide=function(e){var t=o.state,n=t.currentIndex,r=t.offsetPercentage,a=t.previousIndex,i=-100*n+100*e+r;return r>0?o.direction="left":r<0&&(o.direction="right"),0===n&&1===e&&r>0?i=-100+r:1===n&&0===e&&r<0&&(i=100+r),n!==a?0===a&&e===Math.pow(0,r)===0&&"left"===o.direction?i=100:1===a&&1===e&&0===r&&"right"===o.direction&&(i=-100):0===n&&1===e&&0===r&&"left"===o.direction?i=-100:1===n&&0===e&&0===r&&"right"===o.direction&&(i=100),i},o.getDimensions=function(){return{width:o.state.galleryWidth,height:o.state.galleryHeight}},o.render=function(){var e=o.state,t=e.currentIndex,n=e.galleryHeight,r=e.style,a=void 0===r?{}:r,i=o.props,c=i.images,d=i.showThumbnails,p=i.showBullets,h=i.showIndex,m=i.indexSeparator,v=i.showNav,g=i.disableSwipe,y=i.infinite,w=i.onClick,_=i.thumbnailPosition,T=i.disableArrowKeys,S=i.aspectRatio,E=i.renderItem,L=i.renderThumb,x=[],I=[],O=[];c.forEach(function(e,n){var r=e.originalClass,i=void 0===r?"":r,s=e.thumbnailClass,f=void 0===s?"":s,h=e.renderItem,m=void 0===h?null:h,v=e.renderThumb,g=void 0===v?null:v,_=m||E||o._renderItem,T=g||L||o._renderThumb,M=l.default.createElement("div",{key:n,className:(0,u.default)(b+"-slide",i,{left:n===t-1||c.length>=3&&y&&n===c.length-1&&0===t,center:n===t,right:n===t+1||c.length>=3&&y&&0===n&&t===c.length-1}),style:Object.assign(o._getSlideStyle(n),a),onClick:function(e){return w.call(o,n,e)}},_.call(o,e,n));if(x.push(M),d){var P=l.default.createElement("a",{onMouseOver:function(e){return o._handleMouseOverThumbnail.call(o,n,e)},onMouseLeave:function(e){return o._handleMouseLeaveThumbnail.call(o,n,e)},key:n,className:(0,u.default)(b+"-thumbnail",f,{active:t===n}),onTouchStart:function(e){return o._handleThumbnailClick.call(o,n,e)},onClick:function(e){return o._handleThumbnailClick.call(o,n,e)}},l.default.createElement("div",{className:(0,u.default)("aspectRatio","z--"+S)}),T.call(o,e));I.push(P)}if(p){var A=l.default.createElement("li",{key:n,className:(0,u.default)(b+"-bullet",{active:t===n}),onTouchStart:function(e){return o._handleBulletClick.call(o,n,e)},onClick:function(e){return o._handleBulletClick.call(o,n,e)}},l.default.createElement("span",null,n));O.push(A)}});var M=void 0;return T||(M=l.default.createElement(f.default,{target:b+"_"+o.state.id,events:{keydown:o._handleKeyDown,resize:o._handleResize}})),l.default.createElement("div",{id:b+"_"+o.state.id,className:(0,u.default)(b,"align"+_)},M,l.default.createElement("div",{className:(0,u.default)(b+"-content")},l.default.createElement("div",{className:(0,u.default)(b+"-slides-wrapper")},o._canNavigate()?[v&&l.default.createElement("div",{className:b+"-navigation-wrapper",key:"navigation"},l.default.createElement("button",{className:b+"-navigation left",disabled:!o._canSlideLeft(),onTouchStart:o._slideLeft,onClick:o._slideLeft}),l.default.createElement("button",{className:b+"-navigation right",disabled:!o._canSlideRight(),onTouchStart:o._slideRight,onClick:o._slideRight})),g?l.default.createElement("div",{className:b+"-slides",ref:function(e){return o._gallerySwiper=e},key:"slides"},x):l.default.createElement(s.default,{className:b+"-swipe",key:"swipeable",flickThreshold:.2,delta:1,onSwipingLeft:o._handleSwiping.bind(o,-1),onSwipingRight:o._handleSwiping.bind(o,1),onSwiped:o._handleOnSwiped,onSwipedLeft:o._handleOnSwipedTo.bind(o,1),onSwipedRight:o._handleOnSwipedTo.bind(o,-1)},l.default.createElement("div",{ref:function(e){return o._gallerySwiper=e},className:b+"-slides"},x))]:l.default.createElement("div",{ref:function(e){return o._gallerySwiper=e},className:b+"-slides"},x),p&&l.default.createElement("div",{className:b+"-bullets"},l.default.createElement("ul",{className:b+"-bullets-container"},O)),h&&l.default.createElement("div",{className:b+"-index"},l.default.createElement("span",{className:b+"-index-current"},o.state.currentIndex+1),l.default.createElement("span",{className:b+"-index-seperator"},m),l.default.createElement("span",{className:b+"-index-total"},c.length))),d&&l.default.createElement("div",{className:(0,u.default)(b+"-thumbnails"),ref:function(e){return o._gallerySwiperThumbnails=e},style:"Y"===_?{height:n}:{}},l.default.createElement("div",{ref:function(e){return o._thumbnails=e},className:b+"-thumbnails-wrapper",style:o._getThumbnailStyle()},I))))},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"_loadImage",value:function(e){var t=this;return new Promise(function(n,o){var r=t["_galleryImage-"+e],a=t["_gallerySlide-"+e];if(!r||"img"!==r.nodeName.toLowerCase())return n(null);var i=r.getAttribute("data-src"),l=r.getAttribute("data-type");if(!i)return n(null);var s=null;return Array.from(a.childNodes).some(function(e){return e.src&&(e.src===i||new RegExp(i).test(e.src+"$"))&&(s=e),!!s}),s?n(s):(0,d.createNewImage)(i,l).then(function(e){a.appendChild(e),n(e)}).catch(o)})}},{key:"_loadImageErrorHandler",value:function(e){var t=e.error,n=e.image;if(arguments[0]instanceof Error)return console.error(arguments[0]);console.error(t),console.error("Image Object:",n)}},{key:"_addLoadedClassToImage",value:function(e){e&&(0,p.addClassFromArray)(e,[T])}},{key:"_progressiveLazyLoad",value:function(){var e=this.props.images,t=this.whereAmI(),n=t-1<0?e.length-1:t-1,o=t+1>e.length-1?0:t+1;n!==t&&this._loadImage(n).then(this._addLoadedClassToImage).catch(this._loadImageErrorHandler),o!==t&&this._loadImage(o).then(this._addLoadedClassToImage).catch(this._loadImageErrorHandler)}}]),t}();x.propTypes={images:a.default.array.isRequired,showNav:a.default.bool,aspectRatio:a.default.oneOf(["square","3x4","4x6","5x7","8x10","4x3","6x4","7x5","10x8"]),lazyLoad:a.default.bool,progressiveLazyLoad:a.default.bool,lazyLoadAnimation:a.default.bool,infinite:a.default.bool,showIndex:a.default.bool,showBullets:a.default.bool,showThumbnails:a.default.bool,sliderOnThumbnailHover:a.default.bool,disableThumbnailScroll:a.default.bool,disableArrowKeys:a.default.bool,disableSwipe:a.default.bool,defaultImage:a.default.string,indexSeparator:a.default.string,startIndex:a.default.number,slideInterval:a.default.number,onSlide:a.default.func,onThumbnailHover:a.default.func,onThumbnailClick:a.default.func,onBulletClick:a.default.func,onArrowClick:a.default.func,onImageLoad:a.default.func,onThumbnailError:a.default.func,renderItem:a.default.func,renderThumb:a.default.func},x.defaultProps={images:[],showNav:!0,aspectRatio:"square",lazyLoad:!1,progressiveLazyLoad:!1,lazyLoadAnimation:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,sliderOnThumbnailHover:!1,disableThumbnailScroll:!1,disableArrowKeys:!1,disableSwipe:!1,indexSeparator:" : ",startIndex:0,slideInterval:3e3,thumbnailPosition:"X",thumbnailHoverSlideDelay:300,onClick:function(){}},t.default=x},function(e,t,n){e.exports=n(16).default}])});